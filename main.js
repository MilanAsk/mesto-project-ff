(()=>{"use strict";function e(e){e.stopPropagation(),e.target.closest(".card").remove()}function t(e){e.stopPropagation(),e.target.classList.toggle("card__like-button_is-active")}function n(e,t,n,r){var o=document.querySelector("#card-template").content.querySelector(".places__item.card").cloneNode(!0),c=o.querySelector(".card__title"),a=o.querySelector(".card__image"),s=e.name,d=e.link;return c.textContent=s,a.src=d,a.alt=s,function(e,t,n,r,o,c,a){var s=e.querySelector(".card__delete-button"),d=e.querySelector(".card__like-button");s.addEventListener("click",o),d.addEventListener("click",c),t.addEventListener("click",(function(){a(n,r)}))}(o,a,d,s,t,n,r),o}var r=function(e){"Escape"===e.key&&c(document.querySelector(".popup_is-opened"))};function o(e){e.classList.add("popup_is-opened"),document.addEventListener("keydown",r)}function c(e){e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",r)}var a,s=function(e){(e.currentTarget===e.target||e.target.classList.contains("popup__close"))&&c(e.currentTarget)},d=document.querySelector(".content"),p=d.querySelector(".places__list"),i=function(e,t){var n=m.querySelector(".popup__image"),r=m.querySelector(".popup__caption");n.src=e,r.textContent=t,o(m)};a=document.createDocumentFragment(),[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(r){var o=n(r,e,t,i);a.append(o)})),p.append(a);var l=document.querySelector(".popup_type_edit"),u=document.querySelector(".popup_type_new-card"),m=document.querySelector(".popup_type_image");document.querySelector(".popup__close"),l.classList.add("popup_is-animated"),u.classList.add("popup_is-animated"),m.classList.add("popup_is-animated");var v=d.querySelector(".profile__edit-button"),_=d.querySelector(".profile__add-button");v.addEventListener("click",(function(){o(l),k.value=q.textContent,g.value=L.textContent})),_.addEventListener("click",(function(){o(u)})),l.addEventListener("click",s),u.addEventListener("click",s),m.addEventListener("click",s);var y=document.forms["edit-profile"],f=document.forms["new-place"];y.addEventListener("submit",(function(e){e.preventDefault(),q.textContent=k.value,L.textContent=g.value,c(l)})),f.addEventListener("submit",(function(r){r.preventDefault();var o=f.elements["place-name"],a=f.elements.link,s=n({name:o.value,link:a.value},e,t,i);p.prepend(s),c(u),f.reset()}));var k=y.elements.name,g=y.elements.description,q=d.querySelector(".profile__title"),L=d.querySelector(".profile__description")})();